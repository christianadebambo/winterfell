{{> header }}
{{> navbar_admin }}

<div class="container mt-5">
  <h2>Edit User</h2>

  <!-- Display flash messages for errors -->
  {{#messages.errors}}
  <div class="alert alert-danger" role="alert">
    {{.}}
  </div>
  {{/messages.errors}}

  <!-- Form for editing a user -->
  <form action="/admin/edit-user/{{user._id}}" method="post" class="shadow-sm p-4 rounded bg-light">
    <div class="mb-3">
      <label for="name" class="form-label">Full Name</label>
      <input type="text" class="form-control" id="name" name="name" value="{{user.name}}" required>
    </div>
    <div class="mb-3">
      <label for="email" class="form-label">Email</label>
      <input type="email" class="form-control" id="email" name="email" value="{{user.email}}" required>
    </div>
    <div class="mb-3">
      <label for="gradYear" class="form-label">Graduation Year</label>
      <input type="number" class="form-control" id="gradYear" name="gradYear" value="{{user.gradYear}}">
    </div>
    <div class="mb-3">
      <label for="prefEventCategory" class="form-label">Preferred Event Category</label>
      <select class="form-select" id="prefEventCategory" name="prefEventCategory" required>
        <option value="">Select Category</option>
        <option value="professional" {{#ifPrefCategoryProfessional}}selected{{/ifPrefCategoryProfessional}}>Professional Development</option>
        <option value="networking" {{#ifPrefCategoryNetworking}}selected{{/ifPrefCategoryNetworking}}>Networking</option>
        <option value="social" {{#ifPrefCategorySocial}}selected{{/ifPrefCategorySocial}}>Social Gatherings</option>
        <option value="campus" {{#ifPrefCategoryCampus}}selected{{/ifPrefCategoryCampus}}>Campus Events</option>
      </select>
    </div>
    <button type="submit" class="btn btn-primary">Update User</button>
  </form>
</div>

{{> footer_admin }}
